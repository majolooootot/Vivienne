<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Vivienne Westwood</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display&display=swap" rel="stylesheet" />
<style>
/* Reset y base */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

body {
  /* background: rgba(255, 255, 255, 0.95); */
  background: url('https://i.pinimg.com/736x/27/fc/b7/27fcb791d20d825cbac967a63e5bdda5.jpg') center center/cover no-repeat, rgba(255,255,255,0.95);
  color: #222;
  line-height: 1.6;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  padding-right: 200px; /* espacio para carrito fijo aumentado */
  
}

/* Menú superior fijo */
header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 70px;
  background: rgba(30, 30, 30, 0.95);
  padding: 0 2rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  z-index: 1002;
  padding-right: 200px; /* para que el header no quede debajo del carrito */
}


.logo {
  display: flex;
  align-items: center;
  gap: 10px;
  color: #fff;
  font-size: 1.6rem;
  font-weight: bold;
  overflow: hidden;
  height: 50px; /* fuerza que no se expanda más */
}

.logo img {
  height: 60px; /* tamaño fijo y moderado */
  width: auto;
  max-height: 100%;
  object-fit: contain;
  border-radius: 4px;
}

nav a {
  color: #eee;
  margin-left: 1.5rem;
  text-decoration: none;
  font-weight: 500;
  font-size: 1rem;
  position: relative;
  transition: color 0.3s ease;
}

nav a:hover {
  color: #fff;
}

nav a:hover::after {
  content: '';
  position: absolute;
  bottom: -6px;
  left: 0;
  width: 100%;
  height: 2px;
  background: #fff;
  border-radius: 2px;
}

/* Espacio para contenido debajo del header */
main {
  margin-top: 70px; /* espacio para header fijo */
  flex-grow: 1;
  padding: 1rem 2rem;
  background: transparent;
  padding-right: 200px; /* espacio para carrito fijo aumentado */
}

/* Productos */
#products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill,minmax(180px,1fr));
  gap: 1.25rem;
  margin-bottom: 2rem;
}

.product-card {
  background: rgba(255,255,255,0.9);
  border-radius: 8px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.07);
  padding: 0.75rem;
  text-align: center;
  transition: box-shadow 0.3s ease;
  cursor: default;
}

.product-card:hover {
  box-shadow: 0 6px 15px rgba(0,0,0,0.12);
}

.product-card img {
  width: 100%;
  border-radius: 6px;
  margin-bottom: 0.5rem;
  user-select: none;
  pointer-events: none;
}

.product-name {
  font-weight: 700;
  color: #333;
  margin-bottom: 0.25rem;
}

.product-price {
  color: #555;
  margin-bottom: 0.75rem;
}

.btn-add {
  background: #222;
  color: #fff;
  border: none;
  border-radius: 5px;
  padding: 0.45rem 0.9rem;
  cursor: pointer;
  font-weight: 600;
  transition: background 0.3s ease;
  user-select: none;
}

.btn-add:hover {
  background: #555;
}

/* Carrito */
#cart {
  position: fixed;
  top: 70px;
  right: 0;
  width: 320px;
  height: calc(100vh - 70px);
  background: rgba(255,255,255,0.92);
  box-shadow: -2px 0 8px rgba(0,0,0,0.1);
  padding: 1rem;
  overflow-y: auto;
  font-size: 0.95rem;
  display: flex;
  flex-direction: column;
  z-index: 1001;
}

#cart h2 {
  margin-bottom: 1rem;
  font-weight: 700;
  color: #222;
}

.cart-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.65rem;
  background: rgba(0,0,0,0.03);
  padding: 0.4rem 0.6rem;
  border-radius: 5px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}

.cart-item-name {
  flex-grow: 1;
  color: #333;
  font-weight: 600;
}

.cart-item-controls button {
  background: transparent;
  border: none;
  font-size: 1.2rem;
  margin-left: 6px;
  cursor: pointer;
  color: #222;
  transition: color 0.3s ease;
  user-select: none;
}

.cart-item-controls button:hover {
  color: #555;
}

#cart-total {
  margin-top: auto;
  font-weight: 700;
  font-size: 1.1rem;
  color: #222;
  border-top: 1px solid #ddd;
  padding-top: 1rem;
}

#checkout-btn {
  margin-top: 0.5rem;
  background: #222;
  color: #fff;
  border: none;
  padding: 0.7rem 1.2rem;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 700;
  transition: background 0.3s ease;
}

#checkout-btn:hover {
  background: #444;
}

#checkout-message {
  margin-top: 0.5rem;
  font-size: 0.9rem;
  color: #4caf50;
  font-weight: 600;
  min-height: 1.2em;
}

/* Foro de comentarios */
#comments-section, #upload-section, #login-section, #calendar-section, #contact-section, #chat-section {
  margin-bottom: 2rem;
  background: rgba(255,255,255,0.9);
  padding: 1rem 1.5rem;
  border-radius: 8px;
  box-shadow: 0 2px 6px rgba(0,0,0,0.07);
}

#comments-section h2,
#upload-section h2,
#login-section h2,
#calendar-section h2,
#contact-section h2,
#chat-section h2 {
  margin-bottom: 0.7rem;
  color: #ffffff;
  font-weight: 700;
}

#comments {
  max-height: 180px;
  overflow-y: auto;
  background: #fefefe;
  border-radius: 6px;
  padding: 0.6rem 1rem;
  box-shadow: inset 0 0 5px rgba(0,0,0,0.05);
  color: #333;
  font-size: 0.95rem;
}

#comments div {
  margin-bottom: 0.5rem;
  border-bottom: 1px solid #eee;
  padding-bottom: 0.3rem;
}

#comment-input {
  width: 100%;
  padding: 0.55rem 1rem;
  border: 1px solid #ccc;
  border-radius: 6px;
  margin-bottom: 0.7rem;
  font-size: 1rem;
}

#btn-comment {
  background: #222;
  color: #fff;
  border: none;
  padding: 0.55rem 1rem;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 600;
  transition: background 0.3s ease;
}

#btn-comment:hover {
  background: #555;
}

/* Imagenes subida y preview */
#upload-preview {
  margin-top: 0.7rem;
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

#upload-preview img {
  width: 100px;
  height: 80px;
  object-fit: cover;
  border-radius: 6px;
  box-shadow: 0 1px 4px rgba(0,0,0,0.1);
}

/* Login / Registro */
#login-section input {
  width: calc(50% - 12px);
  margin-right: 12px;
  margin-bottom: 0.8rem;
  padding: 0.5rem 0.8rem;
  border-radius: 6px;
  border: 1px solid #bbb;
  font-size: 1rem;
  color: #222;
  background: #fff;
  transition: border-color 0.3s ease;
}

#login-section input:last-child {
  margin-right: 0;
}

#login-section input:focus {
  outline: none;
  border-color: #222;
}

#btn-login, #btn-register {
  background: #222;
  color: #fff;
  border: none;
  padding: 0.55rem 1.2rem;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 700;
  margin-right: 1rem;
  transition: background 0.3s ease;
}

#btn-login:hover, #btn-register:hover {
  background: #555;
}

#login-message {
  margin-top: 0.6rem;
  font-weight: 600;
  min-height: 1.2em;
}

/* Calendario */
#calendar-section input[type="date"], #calendar-section input[type="text"] {
  width: calc(50% - 10px);
  padding: 0.55rem 1rem;
  border-radius: 6px;
  border: 1px solid #bbb;
  margin-right: 10px;
  font-size: 1rem;
  transition: border-color 0.3s ease;
  color: #222;
  background: #fff;
}

#calendar-section input[type="date"]:focus, #calendar-section input[type="text"]:focus {
  outline: none;
  border-color: #222;
}

#btn-add-event {
  background: #222;
  color: #fff;
  border: none;
  padding: 0.55rem 1.2rem;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 700;
  transition: background 0.3s ease;
}

#btn-add-event:hover {
  background: #555;
}

#event-list {
  margin-top: 1rem;
  color: #333;
  max-height: 180px;
  overflow-y: auto;
  background: #fafafa;
  border-radius: 6px;
  padding: 0.8rem 1rem;
  box-shadow: inset 0 0 6px rgba(0,0,0,0.04);
  font-size: 0.95rem;
}

/* Formulario contacto */
#contact-form input, #contact-form textarea {
  width: 100%;
  padding: 0.65rem 1rem;
  margin-bottom: 1rem;
  border-radius: 6px;
  border: 1px solid #bbb;
  font-size: 1rem;
  color: #222;
  background: #fff;
  transition: border-color 0.3s ease;
}

#contact-form input:focus, #contact-form textarea:focus {
  outline: none;
  border-color: #222;
}

#contact-form button {
  background: #222;
  color: #fff;
  border: none;
  padding: 0.7rem 1.5rem;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 700;
  transition: background 0.3s ease;
}

#contact-form button:hover {
  background: #555;
}

/* Chat */
#chat-section {
  display: flex;
  flex-direction: column;
}

#chat-box {
  height: 180px;
  background: #fff;
  border-radius: 6px;
  border: 1px solid #ccc;
  padding: 0.7rem 1rem;
  margin-bottom: 0.6rem;
  overflow-y: auto;
  color: #222;
  box-shadow: inset 0 0 8px rgba(0,0,0,0.05);
  font-size: 0.95rem;
}

#chat-input {
  padding: 0.5rem 1rem;
  border-radius: 6px;
  border: 1px solid #bbb;
  font-size: 1rem;
  margin-bottom: 0.5rem;
  transition: border-color 0.3s ease;
  color: #222;
  background: #fff;
}

#chat-input:focus {
  outline: none;
  border-color: #222;
}

#chat-send-btn {
  background: #222;
  color: #fff;
  border: none;
  padding: 0.6rem 1.4rem;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 700;
  transition: background 0.3s ease;
}

#chat-send-btn:hover {
  background: #555;
}


/* Responsividad */
@media (max-width: 600px) {
  header {
    padding: 0 1rem;
  }
  .logo {
    font-size: 1.2rem;
  }
  nav a {
    margin-left: 1rem;
    font-size: 0.9rem;
  }
}

/* Scrolls estilizados (opcionales) */
::-webkit-scrollbar {
  width: 7px;
}
::-webkit-scrollbar-thumb {
  background: rgba(0,0,0,0.1);
  border-radius: 4px;
}

#clothing-section {
  margin: 60px 200px 0 200px;
  #clothing-section h2 {
  font-family: 'Montserrat', sans-serif; /* Ajusta según tu fuente base */
  font-size: 32px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
  color: #000;
  margin-bottom: 25px;
  border-bottom: 2px solid #000;
  display: inline-block;
  padding-bottom: 5px;
}

}

#clothing-section h2 {
  font-size: 24px;
  margin-bottom: 20px;
  color: #000;
  font-weight: 600;
}

#clothing-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 25px;
}

.product-card {
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.08);
  padding: 15px;
  text-align: center;
  transition: transform 0.2s ease;
}

.product-card img {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
}

.product-name {
  font-size: 16px;
  margin-top: 10px;
  font-weight: 500;
  color: #222;
}

.product-price {
  font-size: 14px;
  margin-top: 5px;
  color: #555;
}

.btn-add {
  margin-top: 10px;
  padding: 8px 14px;
  background-color: #111;
  color: #fff;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
  transition: background-color 0.3s;
}

.btn-add:hover {
  background-color: #444;
}





</style>
</head>
<body>
  

<header>
    <div class="logo">
        <img src="image-removebg-preview (37).png" alt="Logo Vivienne" />
        <span>Vivienne Jewels</span>
      </div>

    
  <nav>
    <a href="#shop-section">Tienda</a>
    <a href="#forum-section">Foro</a>
    <a href="#upload-section">Subir imágenes</a>
    <a href="#login-section">Login / Registro</a>
    <a href="#calendar-section">Agenda</a>
    <a href="#contact-section">Contacto</a>
    <a href="#chat-section">Chat</a>
  </nav>
</header>

<main>

  <!-- TIENDA -->
  <section id="shop-section">
    <h2>Tienda</h2>
    <div class="products-grid" id="products-grid">
      <!-- Productos generados por JS -->
    </div>
  </section>

  <section id="clothing-section">
    <h2>Ropa</h2>
    <div id="clothing-grid" class="product-grid"></div>
  </section>

  <!-- FORO -->
  <section id="forum-section">
    <h2>Foro de comentarios</h2>
    <textarea id="comment-input" placeholder="Escribe tu comentario aquí..."></textarea>
    <button id="btn-comment">Publicar</button>
    <div id="comments"></div>
  </section>

  <!-- SUBIDA Y PREVISUALIZACIÓN IMÁGENES -->
  <section id="upload-section">
    <h2>Subir y vista previa de imágenes</h2>
    <input type="file" id="image-upload" accept="image/*" multiple />
    <div id="upload-preview"></div>
  </section>

  <!-- LOGIN / REGISTRO -->
  <section id="login-section">
    <h2>Login / Registro</h2>
    <input type="text" id="username" placeholder="Usuario" autocomplete="username" />
    <input type="password" id="password" placeholder="Contraseña" autocomplete="current-password" />
    <button id="btn-login">Entrar</button>
    <button id="btn-register">Registrarse</button>
    <div id="login-message"></div>
  </section>

  <!-- CALENDARIO -->
  <section id="calendar-section">
    <h2>Agenda</h2>
    <div>
      <input type="date" id="event-date" />
      <input type="text" id="event-desc" placeholder="Descripción del evento" />
      <button id="btn-add-event">Agregar evento</button>
    </div>
    <ul id="event-list"></ul>
  </section>

  <!-- FORMULARIO DE CONTACTO -->
  <section id="contact-section">
    <h2>Contacto</h2>
    <form id="contact-form" novalidate>
      <input type="text" id="contact-name" placeholder="Nombre completo" required minlength="3" />
      <input type="email" id="contact-email" placeholder="Correo electrónico" required />
      <textarea id="contact-message" placeholder="Tu mensaje" rows="4" required minlength="10"></textarea>
      <button type="submit">Enviar</button>
    </form>
  </section>

  <!-- CHAT -->
  <section id="chat-section">
    <h2>Chat funcional</h2>
    <div id="chat-box"></div>
    <input id="chat-input" type="text" placeholder="Escribe un mensaje..." />
    <button id="chat-send-btn">Enviar</button>
  </section>

</main>
<div id="cart">
  <h2>Carrito</h2>
  <div id="cart-items"></div>
  <div id="cart-total">Total: $0.00</div>
  <button id="checkout-btn">Hacer entrega</button>
  <div id="checkout-message"></div>
</div>

<script>
  // Datos ejemplo productos
  const products = [
    {id: 1, name: "Corazon Plateado", price: 45.00, img: "https://d22fxaf9t8d39k.cloudfront.net/f823318c170f2b58edb42fdc114e736765558e4eee9167d191dc7f9c3fc356d3235272.png"},
    {id: 2, name: "Collar Saturno", price: 30.50, img: "https://http2.mlstatic.com/D_NQ_NP_745134-MLM54747172992_032023-O-collar-vivienne-westwood-pina-orig-nana-dorado.webp"},
    {id: 3, name: "Collar Corazon Sangrante", price: 38.99, img: "https://d22fxaf9t8d39k.cloudfront.net/f02ec6f8b7e6176986ab78d38eb9ebedcbb74130e43dda2fbff54f5feec9f5f0235272.png"},
    {id: 4, name: "Collar perlado", price: 120.00, img: "https://cdna.lystit.com/photos/lvr/e82cc66e/vivienne-westwood-WhiteCrystal-Gargantilla-De-Tres-Filas-De-Perlas-Sinteticas.jpeg"},
    {id: 5, name: "Anillo Nana", price: 90.00, img: "https://images.fashiola.mx/product-list/300x450/farfetch/575702589/anillo-con-motivo-armour-orb.webp"},
    {id: 6, name: "Anillo saturno", price: 55.00, img: "https://cdn-images.farfetch-contents.com/25/51/87/85/25518785_55631494_1000.jpg"}
  ];

  // M
  const productsGrid = document.getElementById('products-grid');
  products.forEach(p => {
    const div = document.createElement('div');
    div.className = 'product-card';
    div.innerHTML = `
      <img src="${p.img}" alt="${p.name}">
      <div class="product-name">${p.name}</div>
      <div class="product-price">$${p.price.toFixed(2)}</div>
      <button class="btn-add" data-id="${p.id}">Agregar al carrito</button>
    `;
    productsGrid.appendChild(div);
  });

  const clothing = [
    {id: 101, name: "Polera Cupido Rojo", price: 80.00, img: "https://images.vestiairecollective.com/images/resized/w=1024,h=1024,q=75,f=auto,/produit/39348958-1_2.jpg"},
    {id: 102, name: "Basica Dark Mud", price: 65.00, img: "https://www.viviennewestwood.com/dw/image/v2/BJGV_PRD/on/demandware.static/-/Sites-viviennewestwood-master-catalog/default/dw1cbaa4d1/images/1803002V-Y0006-AAA-_BLACK_001_large.jpg?sw=342&sh=395&sm=fit&q=80"},
    {id: 103, name: "Red Night", price: 35.00, img: "https://img.playful-dc.com/images/products/142790/142790_1_l.jpg"},
    {id: 104, name: "Saco Vintage", price: 90.00, img: "https://cdn11.bigcommerce.com/s-mqq1i1xa2c/images/stencil/1280x1280/products/193858/5666380/6291_MULT_1__60448.1719587991.jpg?c=1"},
    {id: 105, name: "Tolouse Blue", price: 50.00, img: "https://cdna.lystit.com/1040/1300/n/photos/flannels/a969b3e0/vivienne-westwood-blue-Denim-Toulouse-Shirt.jpeg"},
    {id: 106, name: "Chain T-shirt", price: 100.00, img: "https://cdn-images.farfetch-contents.com/24/41/47/76/24414776_54715138_322.jpg"}
  ];

  const clothingGrid = document.getElementById('clothing-grid');

  clothing.forEach(item => {
    const productHTML = `
      <div class="product-card">
        <img src="${item.img}" alt="${item.name}">
        <p class="product-name">${item.name}</p>
        <p class="product-price">$${item.price.toFixed(2)}</p>
        <button class="btn-add">Agregar</button>
      </div>
    `;
    clothingGrid.innerHTML += productHTML;
  });

  
  // CARRITO
  let cart = JSON.parse(localStorage.getItem('cart')) || {};

  function updateCartUI() {
    const cartItemsDiv = document.getElementById('cart-items');
    cartItemsDiv.innerHTML = '';
    let total = 0;
    Object.values(cart).forEach(item => {
      total += item.price * item.qty;
      const itemDiv = document.createElement('div');
      itemDiv.className = 'cart-item';
      itemDiv.innerHTML = `
        <div class="cart-item-name">${item.name} x${item.qty}</div>
        <div class="cart-item-controls">
          <button class="btn-decrease" data-id="${item.id}">−</button>
          <button class="btn-increase" data-id="${item.id}">+</button>
          <button class="btn-remove" data-id="${item.id}">×</button>
        </div>
      `;
      cartItemsDiv.appendChild(itemDiv);
    });
    document.getElementById('cart-total').textContent = `Total: $${total.toFixed(2)}`;
    localStorage.setItem('cart', JSON.stringify(cart));
  }

  productsGrid.addEventListener('click', e => {
    if (e.target.classList.contains('btn-add')) {
      const id = e.target.getAttribute('data-id');
      const product = products.find(p => p.id == id);
      if (!cart[id]) {
        cart[id] = {...product, qty: 1};
      } else {
        cart[id].qty++;
      }
      updateCartUI();
    }
  });

  document.getElementById('cart-items').addEventListener('click', e => {
    const id = e.target.getAttribute('data-id');
    if (e.target.classList.contains('btn-increase')) {
      cart[id].qty++;
      updateCartUI();
    }
    if (e.target.classList.contains('btn-decrease')) {
      cart[id].qty--;
      if (cart[id].qty <= 0) delete cart[id];
      updateCartUI();
    }
    if (e.target.classList.contains('btn-remove')) {
      delete cart[id];
      updateCartUI();
    }
  });

  document.getElementById('checkout-btn').addEventListener('click', () => {
    if(Object.keys(cart).length === 0){
      alert("El carrito está vacío.");
      return;
    }
    cart = {};
    updateCartUI();
    document.getElementById('checkout-message').textContent = "¡Entrega realizada con éxito! Gracias por comprar.";
    setTimeout(() => {
      document.getElementById('checkout-message').textContent = "";
    }, 4000);
  });

  updateCartUI();

  // FORO DE COMENTARIOS
  const commentInput = document.getElementById('comment-input');
  const btnComment = document.getElementById('btn-comment');
  const commentsDiv = document.getElementById('comments');

  let comments = JSON.parse(localStorage.getItem('comments')) || [];
  function renderComments() {
    commentsDiv.innerHTML = '';
    comments.forEach(c => {
      const div = document.createElement('div');
      div.textContent = c;
      commentsDiv.appendChild(div);
    });
  }
  btnComment.addEventListener('click', () => {
    const text = commentInput.value.trim();
    if(text.length < 3){
      alert('Comentario muy corto');
      return;
    }
    comments.push(text);
    localStorage.setItem('comments', JSON.stringify(comments));
    commentInput.value = '';
    renderComments();
  });
  renderComments();

  // SUBIDA Y PREVISUALIZACION DE IMÁGENES
  const imageUploadInput = document.getElementById('image-upload');
  const uploadPreview = document.getElementById('upload-preview');

  imageUploadInput.addEventListener('change', () => {
    uploadPreview.innerHTML = '';
    const files = Array.from(imageUploadInput.files);
    files.forEach(file => {
      const reader = new FileReader();
      reader.onload = e => {
        const img = document.createElement('img');
        img.src = e.target.result;
        uploadPreview.appendChild(img);
      };
      reader.readAsDataURL(file);
    });
  });

  // LOGIN / REGISTRO SIMPLE (localStorage)
  const btnLogin = document.getElementById('btn-login');
  const btnRegister = document.getElementById('btn-register');
  const usernameInput = document.getElementById('username');
  const passwordInput = document.getElementById('password');
  const loginMessage = document.getElementById('login-message');

  btnRegister.addEventListener('click', () => {
    const user = usernameInput.value.trim();
    const pass = passwordInput.value.trim();
    if(user.length < 3 || pass.length < 4){
      loginMessage.style.color = 'tomato';
      loginMessage.textContent = "Usuario y contraseña deben tener mínimo 3 y 4 caracteres.";
      return;
    }
    let users = JSON.parse(localStorage.getItem('users')) || {};
    if(users[user]){
      loginMessage.style.color = 'tomato';
      loginMessage.textContent = "Usuario ya registrado.";
      return;
    }
    users[user] = pass;
    localStorage.setItem('users', JSON.stringify(users));
    loginMessage.style.color = '#4caf50';
    loginMessage.textContent = "Usuario registrado. Ahora puedes iniciar sesión.";
    usernameInput.value = passwordInput.value = '';
  });

  btnLogin.addEventListener('click', () => {
    const user = usernameInput.value.trim();
    const pass = passwordInput.value.trim();
    let users = JSON.parse(localStorage.getItem('users')) || {};
    if(users[user] && users[user] === pass){
      loginMessage.style.color = '#4caf50';
      loginMessage.textContent = `Bienvenido, ${user}!`;
      usernameInput.value = passwordInput.value = '';
    } else {
      loginMessage.style.color = 'tomato';
      loginMessage.textContent = "Usuario o contraseña incorrectos.";
    }
  });

  // CALENDARIO INTERACTIVO
  const btnAddEvent = document.getElementById('btn-add-event');
  const eventDate = document.getElementById('event-date');
  const eventDesc = document.getElementById('event-desc');
  const eventList = document.getElementById('event-list');

  let events = JSON.parse(localStorage.getItem('events')) || [];
  function renderEvents() {
    eventList.innerHTML = '';
    events.forEach(e => {
      const li = document.createElement('li');
      li.textContent = `${e.date}: ${e.desc}`;
      eventList.appendChild(li);
    });
  }
  btnAddEvent.addEventListener('click', () => {
    const d = eventDate.value;
    const desc = eventDesc.value.trim();
    if(!d){
      alert("Selecciona una fecha.");
      return;
    }
    if(desc.length < 3){
      alert("Descripción muy corta.");
      return;
    }
    events.push({date: d, desc});
    localStorage.setItem('events', JSON.stringify(events));
    eventDate.value = eventDesc.value = '';
    renderEvents();
  });
  renderEvents();

  // FORMULARIO CONTACTO CON VALIDACIONES
  const contactForm = document.getElementById('contact-form');
  contactForm.addEventListener('submit', e => {
    e.preventDefault();
    const name = document.getElementById('contact-name').value.trim();
    const email = document.getElementById('contact-email').value.trim();
    const message = document.getElementById('contact-message').value.trim();

    if(name.length < 3){
      alert('Nombre muy corto');
      return;
    }
    if(!email.match(/^\S+@\S+\.\S+$/)){
      alert('Correo no válido');
      return;
    }
    if(message.length < 10){
      alert('Mensaje muy corto');
      return;
    }
    alert("Mensaje enviado. ¡Gracias por contactarnos!");
    contactForm.reset();
  });

  // CHAT FUNCIONAL (localStorage)
  const chatBox = document.getElementById('chat-box');
  const chatInput = document.getElementById('chat-input');
  const chatSendBtn = document.getElementById('chat-send-btn');

  let chatMessages = JSON.parse(localStorage.getItem('chatMessages')) || [];

  function renderChat() {
    chatBox.innerHTML = '';
    chatMessages.forEach(m => {
      const div = document.createElement('div');
      div.textContent = m;
      chatBox.appendChild(div);
    });
    chatBox.scrollTop = chatBox.scrollHeight;
  }

  chatSendBtn.addEventListener('click', () => {
    const msg = chatInput.value.trim();
    if(msg.length < 1) return;
    chatMessages.push(msg);
    localStorage.setItem('chatMessages', JSON.stringify(chatMessages));
    chatInput.value = '';
    renderChat();
  });

  chatInput.addEventListener('keydown', e => {
    if(e.key === 'Enter') chatSendBtn.click();
  });

  renderChat();

</script>
</body>
</html>
